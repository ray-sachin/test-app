<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simple Web App - Home</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* Minimal structural enhancements; theme comes from styles.css */
    :root { --accent: #0d6efd; --text: #222; }
    body { color: var(--text); margin: 0; }
    a { color: var(--accent); text-decoration: none; }
    a:focus, a:hover { text-decoration: underline; }
    header { background: #fff; border-bottom: 1px solid #ddd; position: sticky; top: 0; z-index: 10; }
    .container { max-width: 960px; margin: 0 auto; padding: 1rem; }
    nav { display: flex; gap: 1rem; align-items: center; }
    nav a { padding: .5rem .75rem; border-radius: .375rem; }
    nav a.active { background: #e7f1ff; }
    main { min-height: 60vh; padding: 2rem 1rem; }
    footer { border-top: 1px solid #ddd; background: #fff; }
    .hero { background: #fff; border: 1px solid #e5e5e5; border-radius: 8px; padding: 1.25rem; }
    .muted { color: #555; }
    .sr-only { position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }
    .top-actions { display: flex; gap: .5rem; flex-wrap: wrap; margin-top: .75rem; }
    .btn { display: inline-block; padding: .5rem .75rem; border-radius: .375rem; border: 1px solid #ccc; background: #fafafa; }
    .btn:hover { background: #f3f3f3; }
  </style>
</head>
<body>
  <a class="sr-only" href="#main">Skip to main content</a>

  <header role="banner">
    <div class="container">
      <nav aria-label="Primary">
        <strong>My Web App</strong>
        <a href="#/" id="nav-home" aria-current="page">Home</a>
        <a href="#/about" id="nav-about">About</a>
        <span class="muted" aria-hidden="true">|</span>
        <a class="btn" href="about.html" target="_blank" rel="noopener">Open About (standalone)</a>
      </nav>
    </div>
  </header>

  <main id="main" class="container" tabindex="-1">
    <section class="hero" id="content">
      <h1>Welcome</h1>
      <p>This is the home page of a simple multi-page web app.</p>
      <div class="top-actions">
        <a class="btn" href="#/about">Read more on the About page</a>
      </div>
    </section>
  </main>

  <footer role="contentinfo">
    <div class="container">
      <p class="muted">© 2025 My Web App • Styled via styles.css</p>
      <p class="muted">Tip: If links don’t load content, serve via a local web server (see README).</p>
    </div>
  </footer>

  <script>
    // Simple hash-based router that loads about.html into <main> when needed.
    const routes = {
      "/": async () => {
        document.title = "Simple Web App - Home";
        return `
          <section class="hero">
            <h1>Welcome</h1>
            <p>This is the home page of a simple multi-page web app.</p>
            <p>Use the navigation above to visit the About page, which is loaded from a separate file (about.html).</p>
            <div class="top-actions">
              <a class="btn" href="#/about">Go to About</a>
              <a class="btn" href="about.html" target="_blank" rel="noopener">Open About (standalone)</a>
            </div>
          </section>
        `;
      },
      "/about": async () => {
        document.title = "Simple Web App - About";
        try {
          const res = await fetch("about.html", { credentials: "same-origin" });
          if (!res.ok) throw new Error("Failed to load about.html");
          const html = await res.text();
          // Wrap the partial content with a section for consistent layout
          return `<section class="hero">${html}</section>`;
        } catch (err) {
          console.error(err);
          return `
            <section class="hero">
              <h1>About</h1>
              <p>We couldn't load the About page dynamically. You can still open it directly:</p>
              <p><a class="btn" href="about.html" target="_blank" rel="noopener">Open About (standalone)</a></p>
              <p class="muted">Hint: Run a local server (see README) to enable dynamic loading.</p>
            </section>
          `;
        }
      }
    };

    function setActiveNav(path) {
      document.querySelectorAll('nav a[aria-current="page"]').forEach(a => a.removeAttribute("aria-current"));
      document.getElementById("nav-home").classList.remove("active");
      document.getElementById("nav-about").classList.remove("active");

      if (path === "/") {
        document.getElementById("nav-home").setAttribute("aria-current", "page");
        document.getElementById("nav-home").classList.add("active");
      } else if (path === "/about") {
        document.getElementById("nav-about").setAttribute("aria-current", "page");
        document.getElementById("nav-about").classList.add("active");
      }
    }

    async function router() {
      const hash = location.hash.replace(/^#/, "");
      const path = hash && hash !== "/" ? hash : "/";
      const route = routes[path] || routes["/"];
      setActiveNav(path);
      const content = await route();
      const el = document.getElementById("content");
      el.outerHTML = `<section class="hero" id="content">${content}</section>`;
      // Move focus to main for accessibility after navigation
      document.getElementById("main").focus();
    }

    window.addEventListener("hashchange", router);
    window.addEventListener("DOMContentLoaded", router);
  </script>
</body>
</html>